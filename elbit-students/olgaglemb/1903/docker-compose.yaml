version: '3.8'

services:

  spring-app:
   image: yanivomc/spring-music:latest
   ports: 
     - 80:8080
   networks: 
     - fe-lan
     - db-lan
   command: java -jar -Dspring.profiles.active=mysql spring-music.jar

  mysql-db:
   image: yanivomc/spring-mysql:latest
   networks: 
     - db-lan
   container_name: db_mysql
   environment:
     - MYSQL_ALLOW_EMPTY_PASSWORD=yes
     - MYSQL_DATABASE=music

networks:
 db-lan:
 fe-lan:


